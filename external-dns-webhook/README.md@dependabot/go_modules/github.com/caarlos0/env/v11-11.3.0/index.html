<!DOCTYPE html>
<html lang="en">
  <head>
    <title>go.anx.io/external-dns-webhook - external-dns for Anexia CloudDNS</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=900, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/static/style.css">
    <link rel="stylesheet" type="text/css" href="/chroma/style.css">
    <meta name="description" content="go.anx.io/external-dns-webhook - external-dns for Anexia CloudDNS">
    <meta name="go-import" content="go.anx.io/external-dns-webhook git https://github.com/anexia/k8s-external-dns-webhook.git">
    <meta name="go-source" content="go.anx.io/external-dns-webhook https://github.com/anexia/k8s-external-dns-webhook https://github.com/anexia/k8s-external-dns-webhook/tree/dependabot/go_modules/github.com/caarlos0/env/v11-11.3.0 https://github.com/anexia/k8s-external-dns-webhook/tree/dependabot/go_modules/github.com/caarlos0/env/v11-11.3.0/README.md">
</head>
  <body >
    <header>
      <h1>go.anx.io/external-dns-webhook</h1><hr />
      <nav>
        <a href="https://pkg.go.dev/go.anx.io/external-dns-webhook@dependabot/go_modules/github.com/caarlos0/env/v11-11.3.0">API documentation</a>
        <a href="https://github.com/anexia/k8s-external-dns-webhook">Source repository</a>
        <div class="dropdown">
          <label id="versionLabel">Version:</label>
          <menu role="listbox" aria-labelledby="versionLabel">
            <li role="option" aria-selected="false" class="majorVersion">
                <a href="/external-dns-webhook/README.md">v1</a>
              </li>
              <li role="option" aria-selected="false">
                  <a href="/external-dns-webhook/README.md@v0.2.0">v0.2.0</a>
                </li>
              <li role="option" aria-selected="false">
                  <a href="/external-dns-webhook/README.md@v0.1.6">v0.1.6</a>
                </li>
              <li role="option" aria-selected="false">
                  <a href="/external-dns-webhook/README.md@v0.1.5">v0.1.5</a>
                </li>
              <li role="option" aria-selected="false">
                  <a href="/external-dns-webhook/README.md@v0.1.4">v0.1.4</a>
                </li>
              <li role="option" aria-selected="false">
                  <a href="/external-dns-webhook/README.md@v0.1.3">v0.1.3</a>
                </li>
              <li role="option" aria-selected="false">
                  <a href="/external-dns-webhook/README.md@v0.1.2">v0.1.2</a>
                </li>
              <li role="option" aria-selected="false">
                  <a href="/external-dns-webhook/README.md@v0.1.1">v0.1.1</a>
                </li>
              <li role="option" aria-selected="false">
                  <a href="/external-dns-webhook/README.md@v0.1.0">v0.1.0</a>
                </li>
              <li role="option" aria-selected="false">
                  <a href="/external-dns-webhook/README.md@main">main</a>
                </li>
              <li role="option" aria-selected="false">
                  <a href="/external-dns-webhook/README.md@release-please--branches--main--components--main">release-please--branches--main--components--main</a>
                </li>
              <li role="option" aria-selected="false">
                  <a href="/external-dns-webhook/README.md@dependabot/go_modules/github.com/go-chi/chi/v5-5.2.0">dependabot/go_modules/github.com/go-chi/chi/v5-5.2.0</a>
                </li>
              <li role="option" aria-selected="true">
                  <a href="/external-dns-webhook/README.md@dependabot/go_modules/github.com/caarlos0/env/v11-11.3.0">dependabot/go_modules/github.com/caarlos0/env/v11-11.3.0</a>
                </li>
              <li role="option" aria-selected="false">
                  <a href="/external-dns-webhook/README.md@dependabot/github_actions/anchore/sbom-action-0.17.9">dependabot/github_actions/anchore/sbom-action-0.17.9</a>
                </li>
              </menu>
        </div>
        <a class="common" href="/">Discover more packages</a>
      </nav>
    
    </header>
    <main>
      <h1 id="external-dns-for-anexia-clouddns">external-dns for Anexia CloudDNS</h1>
<p><a href="LICENSE.md"><img src="https://img.shields.io/github/license/anexia/k8s-external-dns-webhook?style=for-the-badge" alt="License"></a>
<a href="https://github.com/anexia/k8s-external-dns-webhook/actions/workflows/pull_request.yml"><img src="https://img.shields.io/github/actions/workflow/status/anexia/k8s-external-dns-webhook/pull_request.yml?style=for-the-badge" alt="Build"></a>
<a href="https://goreportcard.com/report/github.com/anexia/k8s-external-dns-webhook"><img src="https://goreportcard.com/badge/github.com/anexia/k8s-external-dns-webhook?style=for-the-badge" alt="GoReport"></a>
<a href="https://coveralls.io/github/anexia/k8s-external-dns-webhook?branch=main"><img src="https://img.shields.io/coverallsCoverage/github/anexia/k8s-external-dns-webhook?style=for-the-badge" alt="Coverage"></a></p>
<p>The Anexia Webhook Provider for <a href="https://github.com/kubernetes-sigs/external-dns">ExternalDNS</a> allows you to use Anexia&rsquo;s DNS API to manage DNS records for your domains.</p>
<p>The provider is heavily inspired by the <a href="https://github.com/ionos-cloud/external-dns-ionos-webhook">ExternalDNS - IONOS Webhook</a> and some inspiration taken from the <a href="https://github.com/muhlba91/external-dns-provider-adguard/tree/main">External DNS - Adguard Home Provider</a>.</p>
<p>The initial work was by done by @ProbstenHias, who still serves as the primary maintainer. Thanks a lot! :purple_heart:</p>
<h2 id="configuration">Configuration</h2>
<p>See <a href="cmd/webhook/init/configuration/configuration.go">cmd/webhook/init/configuration/configuration.go</a> for all available configuration options for the webhook sidecar, and <a href="internal/anexia/configuration.go">internal/anexia/configuration.go</a> for all available configuration options for the Anexia provider.</p>
<h2 id="kubernetes-deployment">Kubernetes Deployment</h2>
<p>The Anexia Webhook Provider is provided as  an OCI image in <a href="https://ghcr.io/anexia/k8s-external-dns-webhook">ghcr.io/anexia/k8s-external-dns-webhook</a>.</p>
<p>The following is an example deployment for the Anexia Webhook Provider:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="ln" id="code-1-1"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-1"> 1</a></span><span class="cl">helm repo add external-dns https://kubernetes-sigs.github.io/external-dns/
</span></span><span class="line"><span class="ln" id="code-1-2"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-2"> 2</a></span><span class="cl">
</span></span><span class="line"><span class="ln" id="code-1-3"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-3"> 3</a></span><span class="cl"><span class="c1"># create the anexia configuration</span>
</span></span><span class="line"><span class="ln" id="code-1-4"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-4"> 4</a></span><span class="cl">kubectl create secret generic anexia-credentials <span class="se">\
</span></span></span><span class="line"><span class="ln" id="code-1-5"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-5"> 5</a></span><span class="cl"><span class="se"></span>    --from-literal<span class="o">=</span><span class="nv">token</span><span class="o">=</span><span class="s1">&#39;&lt;ANEXIA_API_TOKEN&gt;&#39;</span>
</span></span><span class="line"><span class="ln" id="code-1-6"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-6"> 6</a></span><span class="cl">
</span></span><span class="line"><span class="ln" id="code-1-7"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-7"> 7</a></span><span class="cl"><span class="c1"># create the helm values file</span>
</span></span><span class="line"><span class="ln" id="code-1-8"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-8"> 8</a></span><span class="cl">cat <span class="s">&lt;&lt;EOF &gt; external-dns-anexia-values.yaml
</span></span></span><span class="line"><span class="ln" id="code-1-9"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-9"> 9</a></span><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="ln" id="code-1-10"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-10">10</a></span><span class="cl"><span class="s"># -- ExternalDNS Log level.
</span></span></span><span class="line"><span class="ln" id="code-1-11"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-11">11</a></span><span class="cl"><span class="s">logLevel: debug # reduce in production
</span></span></span><span class="line"><span class="ln" id="code-1-12"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-12">12</a></span><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="ln" id="code-1-13"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-13">13</a></span><span class="cl"><span class="s"># -- if true, _ExternalDNS_ will run in a namespaced scope (Role and Rolebinding will be namespaced too).
</span></span></span><span class="line"><span class="ln" id="code-1-14"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-14">14</a></span><span class="cl"><span class="s">namespaced: false
</span></span></span><span class="line"><span class="ln" id="code-1-15"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-15">15</a></span><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="ln" id="code-1-16"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-16">16</a></span><span class="cl"><span class="s"># -- _Kubernetes_ resources to monitor for DNS entries.
</span></span></span><span class="line"><span class="ln" id="code-1-17"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-17">17</a></span><span class="cl"><span class="s">sources:
</span></span></span><span class="line"><span class="ln" id="code-1-18"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-18">18</a></span><span class="cl"><span class="s">  - ingress
</span></span></span><span class="line"><span class="ln" id="code-1-19"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-19">19</a></span><span class="cl"><span class="s">  - service
</span></span></span><span class="line"><span class="ln" id="code-1-20"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-20">20</a></span><span class="cl"><span class="s">  - crd
</span></span></span><span class="line"><span class="ln" id="code-1-21"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-21">21</a></span><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="ln" id="code-1-22"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-22">22</a></span><span class="cl"><span class="s">extraArgs:
</span></span></span><span class="line"><span class="ln" id="code-1-23"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-23">23</a></span><span class="cl"><span class="s">  ## must override the default value with port 8888 with port 8080 because this is hard-coded in the helm chart
</span></span></span><span class="line"><span class="ln" id="code-1-24"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-24">24</a></span><span class="cl"><span class="s">  - --webhook-provider-url=http://localhost:8080
</span></span></span><span class="line"><span class="ln" id="code-1-25"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-25">25</a></span><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="ln" id="code-1-26"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-26">26</a></span><span class="cl"><span class="s">provider:
</span></span></span><span class="line"><span class="ln" id="code-1-27"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-27">27</a></span><span class="cl"><span class="s">  name: webhook
</span></span></span><span class="line"><span class="ln" id="code-1-28"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-28">28</a></span><span class="cl"><span class="s">  webhook:
</span></span></span><span class="line"><span class="ln" id="code-1-29"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-29">29</a></span><span class="cl"><span class="s">    image: ghcr.io/anexia/k8s-external-dns-webhook
</span></span></span><span class="line"><span class="ln" id="code-1-30"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-30">30</a></span><span class="cl"><span class="s">    tag: v0.1.6
</span></span></span><span class="line"><span class="ln" id="code-1-31"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-31">31</a></span><span class="cl"><span class="s">    env:
</span></span></span><span class="line"><span class="ln" id="code-1-32"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-32">32</a></span><span class="cl"><span class="s">      - name: LOG_LEVEL
</span></span></span><span class="line"><span class="ln" id="code-1-33"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-33">33</a></span><span class="cl"><span class="s">        value: debug # reduce in production
</span></span></span><span class="line"><span class="ln" id="code-1-34"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-34">34</a></span><span class="cl"><span class="s">      - name: ANEXIA_API_URL
</span></span></span><span class="line"><span class="ln" id="code-1-35"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-35">35</a></span><span class="cl"><span class="s">        value: &lt;ANEXIA_API_URL&gt;
</span></span></span><span class="line"><span class="ln" id="code-1-36"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-36">36</a></span><span class="cl"><span class="s">      - name: ANEXIA_API_TOKEN
</span></span></span><span class="line"><span class="ln" id="code-1-37"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-37">37</a></span><span class="cl"><span class="s">        valueFrom:
</span></span></span><span class="line"><span class="ln" id="code-1-38"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-38">38</a></span><span class="cl"><span class="s">          secretKeyRef:
</span></span></span><span class="line"><span class="ln" id="code-1-39"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-39">39</a></span><span class="cl"><span class="s">            name: anexia-credentials
</span></span></span><span class="line"><span class="ln" id="code-1-40"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-40">40</a></span><span class="cl"><span class="s">            key: token
</span></span></span><span class="line"><span class="ln" id="code-1-41"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-41">41</a></span><span class="cl"><span class="s">      - name: SERVER_HOST
</span></span></span><span class="line"><span class="ln" id="code-1-42"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-42">42</a></span><span class="cl"><span class="s">        value: &#34;0.0.0.0&#34;
</span></span></span><span class="line"><span class="ln" id="code-1-43"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-43">43</a></span><span class="cl"><span class="s">      - name: DRY_RUN
</span></span></span><span class="line"><span class="ln" id="code-1-44"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-44">44</a></span><span class="cl"><span class="s">        value: &#34;false&#34;
</span></span></span><span class="line"><span class="ln" id="code-1-45"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-45">45</a></span><span class="cl"><span class="s">EOF</span>
</span></span><span class="line"><span class="ln" id="code-1-46"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-46">46</a></span><span class="cl">
</span></span><span class="line"><span class="ln" id="code-1-47"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-47">47</a></span><span class="cl"><span class="c1"># install external-dns with helm</span>
</span></span><span class="line"><span class="ln" id="code-1-48"><a style="outline: none; text-decoration:none; color:inherit" href="#code-1-48">48</a></span><span class="cl">helm upgrade -i external-dns-anexia external-dns/external-dns -f external-dns-anexia-values.yaml
</span></span></code></pre>
    </main>
    <footer>
      <hr />
      <span class="buildinfo">Generated on
        <span title="2024-12-18T10:57:31Z">
          2024-12-18
        </span>
        from 
        <a href="https://github.com/anexia/go.anx.io/tree/b3bfb206ef8b068186d2f2ee7338a35cf1beabc4">main</a></span>
      <span class="copyright">&copy; 2006 - 2024 Anexia Internetdienstleistungs GmbH</span>
    </footer>
  </body>
</html>